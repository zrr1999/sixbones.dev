---
import Layout from "../layouts/Layout.astro";
import SlideList from "../components/SlideList.tsx";

// 你原有的 slides 生成逻辑
import { readdir } from "fs/promises";
import { join } from "path";

let slides: string[] = [];
const slidesDir = join(process.cwd(), "public", "slides");
const items = await readdir(slidesDir, { withFileTypes: true });
slides = items
  .filter(item => item.isDirectory())
  .map(item => item.name)
  .sort();
---

<Layout>
  <SlideList client:load slides={slides} />
</Layout>
