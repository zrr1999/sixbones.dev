import{d as h,y as v}from"./hooks.module.tSj8th5i.js";import{l as x}from"./preact.module.DE--1VBR.js";var b=0;function n(s,l,c,u,a,d){l||(l={});var i,r,o=l;if("ref"in o)for(r in o={},l)r=="ref"?i=l[r]:o[r]=l[r];var f={type:s,props:o,key:c,ref:i,__k:null,__:null,__b:0,__e:null,__c:null,constructor:void 0,__v:--b,__i:-1,__u:0,__source:a,__self:d};if(typeof s=="function"&&(i=s.defaultProps))for(r in i)o[r]===void 0&&(o[r]=i[r]);return x.vnode&&x.vnode(f),f}function w({slides:s}){const[l,c]=h(!1),[u,a]=h(1),[d,i]=h(null);v(()=>{function e(){const t=window.innerWidth;t<390?(c(!0),a(1)):t>=390&&t<640?(c(!1),a(.85)):(c(!1),a(1))}return e(),window.addEventListener("resize",e),()=>window.removeEventListener("resize",e)},[]);function r(e,t){t.preventDefault(),d===e?f(e):(d&&f(d),o(e))}function o(e){document.body.style.overflow="hidden",i(e);const t=document.getElementById(`slide-card-${e}`);if(!t)return;const m=t.getBoundingClientRect();requestAnimationFrame(()=>{t.style.transform=`translate(-${m.left}px, -${m.top}px)`,t.style.zIndex="9999"})}function f(e){document.body.style.overflow="",i(null);const t=document.getElementById(`slide-card-${e}`);t&&(requestAnimationFrame(()=>{t.style.transform=""}),setTimeout(()=>{t.style.zIndex=""},300))}return n("div",{class:"flex min-h-svh flex-col bg-background font-mono text-foreground",children:[n("img",{id:"background",src:"/background.svg",fetchpriority:"high",class:"fixed inset-0 h-full w-full object-cover backdrop-blur-3xl"}),n("div",{class:"z-1 flex min-h-[60vh] flex-1 items-center justify-center",hidden:!l,children:n("div",{class:"text-muted-foreground w-full p-8 text-center text-2xl",children:"屏幕过窄，无法浏览幻灯片列表，请使用更大的屏幕。"})}),n("main",{class:"slide-list animate-slidein z-1 flex flex-1 items-start justify-center",hidden:l,style:{transform:u!==1?`scale(${u})`:void 0,transformOrigin:"top center"},children:n("section",{id:"hero",class:"flex w-auto flex-col items-start justify-center p-4",children:[n("h1",{class:"mt-16 mb-8 w-full text-center text-4xl font-bold text-foreground md:text-5xl",children:"我的幻灯片集"}),s.length>0&&n("div",{class:"grid w-full grid-cols-1 gap-16 md:grid-cols-2",children:s.map(e=>n("a",{id:`slide-card-${e}`,href:"#",class:`block overflow-y-auto bg-white/50 no-underline backdrop-blur transition-all duration-300 dark:bg-muted/50 ${d===e?"h-[100vh] w-[100vw] p-12":"h-[260px] w-[350px] rounded-2xl border border-border p-4 shadow hover:-translate-y-1 hover:shadow-lg focus-visible:outline-2 focus-visible:outline-accent focus-visible:outline-dashed"}`,onClick:t=>r(e,t),children:[n("h2",{class:`m-0 text-center text-foreground transition-all duration-300 ${d===e?"h-36 text-5xl font-bold":"h-12 text-2xl font-semibold"}`,children:e}),n("div",{class:"flex aspect-video w-full items-center justify-center overflow-hidden rounded-md border border-border bg-gray-100 dark:bg-gray-800",children:n("iframe",{src:`/slides/${e}/index.html`,class:"h-full w-full rounded-xl border-0 transition-all duration-300",loading:"lazy",title:`幻灯片预览-${e}`})})]}))})]})}),n("style",{children:`
          .animate-slidein {
            animation: slidein 0.7s cubic-bezier(.4,0,.2,1);
          }
        `})]})}export{w as default};
