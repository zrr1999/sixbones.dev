# AGENTS.md

AI 代理配置和工作流程说明文档。

## 📖 项目简介

本项目使用 AI 代理来协助开发和维护工作。本文档描述了代理的配置、工作流程和最佳实践。

### 项目结构

项目包含以下应用：

- `apps/root/` - 个人主页应用（部署到根域名 sixbones.dev）
- `apps/blog/` - 博客应用（部署到 blog.sixbones.dev）
- `apps/slides/` - 幻灯片应用（部署到 slides.sixbones.dev）

## 🤖 可用代理

### 代码优化代理

负责优化代码质量、格式化和最佳实践。

**职责范围**：

- 代码格式化和风格统一
- 性能优化建议
- 重构和代码清理
- 遵循项目编码规范

### 文档维护代理

负责维护项目文档的完整性和准确性。

**职责范围**：

- 更新 README 和其他文档
- 优化博客文章内容
- 确保文档与代码同步
- 修复文档中的错误和不一致

### 测试代理

负责编写和维护测试用例。

**职责范围**：

- 编写单元测试
- 编写集成测试
- 维护测试覆盖率
- 修复失败的测试

## 🔧 配置

### 项目配置文件

- `package.json` - 项目依赖和脚本配置
- `turbo.json` - Turborepo 构建配置
- `.github/workflows/` - CI/CD 工作流配置

### 代理特定配置

代理配置存储在 `.github/agents/` 目录下（如果存在）。

## 🧞 使用代理的命令

| 命令             | 说明               |
| :--------------- | :----------------- |
| `bun install`    | 安装依赖           |
| `bun run dev`    | 启动本地开发服务器 |
| `bun run build`  | 构建生产环境代码   |
| `bun run format` | 格式化代码         |
| `bun run lint`   | 运行代码检查       |

## 📝 工作流程

### 1. 代码优化流程

1. 分析现有代码
2. 识别优化机会
3. 应用格式化工具
4. 验证构建和测试
5. 提交更改

### 2. 文档更新流程

1. 审查现有文档
2. 识别过时或不准确的内容
3. 更新文档内容
4. 验证文档格式
5. 提交更改

### 3. 测试维护流程

1. 分析测试覆盖率
2. 识别缺失的测试用例
3. 编写新测试
4. 运行测试套件
5. 提交更改

## 🎯 最佳实践

### 代码提交

- 使用清晰的提交信息
- 每次提交保持更改最小化
- 提交前运行 lint 和测试
- 遵循常规提交规范

### 代码审查

- 仔细审查 AI 代理的更改
- 验证所有测试通过
- 确保代码符合项目标准
- 检查文档是否同步更新

### 文档编写

- 保持文档简洁明了
- 使用示例说明用法
- 及时更新变更
- 保持格式一致性

## 📝 博客编写规范

博客文章位于 `apps/blog/data/blog/`，使用 Markdown，需符合以下规范。

### Frontmatter

必填字段（参见 `src/content.config.ts`）：

- `title`：标题
- `description`：摘要，用于列表和 SEO
- `pubDatetime`：发布日期
- `modDatetime`：修改日期（可选）
- `tags`：标签数组，默认 `["未分类"]`

可选：`author`（默认 `SITE.author`）、`draft`、`featured`、`canonicalURL` 等。

### 正文结构

- **开篇**：1～2 段摘要或引入，不另行写 `# 标题`（标题来自 frontmatter）。
- **标题层级**：使用 `##`、`###`、`####` 表示一级、二级、三级小节；**不在标题中使用「一、二、三」或「1.1、2.1」等序号**，由层级表达结构即可。
- **节间**：节与节之间**不用** `---` 分隔。
- **参考文献**：放在文末，使用 `## 参考文献` 或 `## 参考资料`，链接列表即可。

### 排版与用词

- **中英文空格**：中文与英文单词或缩写之间加空格（如 `多 Agent 系统`、`LLM 作为`）。
- **减少中英混用**：能改用纯中文的尽量用纯中文；括号内的英文译名（如 `管道式/Pipeline`）可视情况改为纯中文（如 `流水线`）。
- **用词**：准确、易理解，尽量不用生僻词（如优先用「本质区别」而非「根本分野」）。

### 可选的 H1

若希望正文首行为与 `title` 相同的 `# 标题`（如部分教程），可保留；多数文章可直接从引言 `##` 开始。

### 参考示例

- `eq-type-lsp.md`：无 H1，`##` 小节、无序号、无 `---`
- `pycapsule-dlpack.md`：无 H1，`##` / `###` 结构
- `incus-qcow2.md`：短篇，`##` 小节 + `## 参考资料`

## 📚 参考资源

- [项目 README](./README.md) - 项目主要文档
- [Astro 文档](https://astro.build) - 框架文档
- [Bun 文档](https://bun.sh) - 运行时和包管理器文档

## 🤝 贡献指南

如果您想为本项目做出贡献：

1. Fork 项目仓库
2. 创建功能分支
3. 提交您的更改
4. 推送到您的分支
5. 创建 Pull Request

## 📄 许可证

本项目采用 MIT 许可证。详见 [LICENSE](./LICENSE) 文件。
